<template>
  <div class="material-table-wrap">
    <el-table
      class="material-table"
      :data="tableData"
      :default-sort="{ prop: 'date', order: 'descending' }"
      style="width: 100%"
      :max-height="500"
      size="large"
      border
    >
      <el-table-column
        align="center"
        prop="id"
        sortable
        label="ID"
        width="100"
      />
      <el-table-column align="center" prop="name" label="åç§°" width="180" />
      <el-table-column align="center" prop="cost" sortable label="å•ä»·" />
      <el-table-column align="center" prop="date" sortable label="æ›´æ–°æ—¥æœŸ" />
      <el-table-column align="center" prop="user" label="å˜æ›´äºº" />
      <el-table-column align="center" label="æ“ä½œ">
        <template #default="scope">
          <el-button type="primary" @click="handleEdit(scope.row)"
            >ç¼–è¾‘</el-button
          >
          <el-button type="danger" @click="handleDel(scope.row)"
            >åˆ é™¤</el-button
          >
        </template>
      </el-table-column>
    </el-table>

    <div class="pagination-wrap">
      <el-pagination
        background
        hide-on-single-page
        layout="prev, pager, next"
        :total="total"
        :page-size="pageSize"
        :current-page="currentPage"
        @update:current-page="emit('update:current-page', $event)"
      />
    </div>
  </div>
</template>

<script setup lang="ts">
// import { tableData } from "@/mock/data";

import { watch } from 'vue';

const props = defineProps({
  tableData: {
    type: Array,
    default: () => [],
  },
  total: {
    type: Number,
    default: 0,
  },
  currentPage: {
    type: Number,
    default: 1,
  },
  pageSize: {
    type: Number,
    default: 10,
  },
});

const emit = defineEmits(['update:current-page'])

console.log("ðŸš€ ~ file: Table.vue ~ line 69 ~ props", props)

const handleEdit = (row: object) => {
  console.log("ðŸš€ ~ file: Table.vue ~ line 23 ~ handleEdit ~ row", row);
};

const handleDel = (row: object) => {
  console.log("ðŸš€ ~ file: Table.vue ~ line 28 ~ handleDel ~ row", row);
};
</script>

<style lang="scss">
.material-table-wrap {
  .pagination-wrap {
    text-align: right;
    margin-top: 10px;
  }
  .el-pagination {
    display: inline-flex;
  }
}
</style>
